---
// fetch my medium posts with my user njacob1001
// and limit to 5 posts

const data = await fetch(
  'https://api.rss2json.com/v1/api.json?rss_url=https://medium.com/feed/@njacob1001'
)
  .then((res) => res.json())
  .then((data) => data.items)
  .catch((err) => console.log(err))
---

<section id="blog">
  <h2>Blog</h2>

  <div class="scrollable">
    <ul>
      {
        data.map((item: any) => (
          <li>
            <img src={item.thumbnail} alt={item.title} />
            <h3>{item.title}</h3>
            <a href={item.link} rel="noopener" target="_blank">
              Read â†’
            </a>
          </li>
        ))
      }
    </ul>
  </div>
</section>

<style>
  section {
    width: 100%;
    margin: 0 auto;
    max-width: var(--size-lg);
    display: flex;
    flex-direction: column;
    margin-block-start: var(--size-10);
    margin-block-end: var(--size-12);
    padding-inline: var(--size-4);
  }

  h2 {
    grid-column: 1 / 3;
    align-self: flex-start;
    font-size: var(--fluid-font-size-9);
    text-transform: uppercase;
    color: var(--gray-12);
    font-weight: var(--font-weight-9);
    margin-block-end: var(--size-5);
  }

  .scrollable {
    display: block;
    overflow-y: hidden;
    overflow-x: auto;
    display: flex;
    padding-block-end: var(--size-5);
  }

  ul {
    display: flex;
    gap: var(--size-9);
  }

  li {
    width: var(--size-14);
    color: var(--gray-12);
    padding: 0;
  }

  img {
    width: 100%;
    aspect-ratio: 2/1;
    object-fit: cover;
  }

  h3 {
    font-size: var(--font-size-3);
    font-weight: var(--font-weight-6);
    color: var(--gray-12);
    margin-top: var(--size-3);
  }
</style>
